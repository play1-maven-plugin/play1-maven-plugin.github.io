<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-03-30 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160330" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Play! 1.x &#x2013; Play! 1.2.x to 1.3.x migration</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<link rel="stylesheet" href="./css/site.css" type="text/css"/>
          
              <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17472708-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
          </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Play! 1.x</h2>
                </div>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                                <img src="images/my-avatar-80.png"  alt="avatar"/>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-03-30
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0.0-beta8
                      </li>
                      
                
                    
      
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <span class="none"></span>
        Usage</a>
            </li>
                
      <li>
  
                          <a href="play-maven-plugin/plugin-info.html" title="Plugin goals">
          <span class="none"></span>
        Plugin goals</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Play! 1.2.x to 1.3.x migration</a>
          </li>
                
      <li>
  
                          <a href="mavenized-play-modules.html" title="Mavenized Play! modules">
          <span class="none"></span>
        Mavenized Play! modules</a>
            </li>
                                        <li class="nav-header">Modules</li>
                              
      <li>
  
                          <a href="play-maven-plugin/index.html" title="Maven Plugin for Play! Framework">
          <span class="none"></span>
        Maven Plugin for Play! Framework</a>
            </li>
                
      <li>
  
                          <a href="play-selenium-junit4/index.html" title="Play! Selenium Test Base">
          <span class="none"></span>
        Play! Selenium Test Base</a>
            </li>
                
      <li>
  
                          <a href="play-server-booter/index.html" title="Play! Server Booter">
          <span class="none"></span>
        Play! Server Booter</a>
            </li>
                
      <li>
  
                          <a href="surefire-play-junit4/index.html" title="SureFire Play!-JUnit4 Runner">
          <span class="none"></span>
        SureFire Play!-JUnit4 Runner</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Play_1.2.x_to_1.3.x_migration"></a>Play! 1.2.x to 1.3.x migration</h2>
<p>This topic describes migration of existing project created for Play! Framework 1.2.x to Play! Framework 1.3.x.</p>
<p>Instructions how to set up new project using Play! Framework 1.2.x are in <a href="./usage.html">Usage</a> section.</p>
<p>From the Maven point of view the main differences between Play1 1.2.x and 1.3.x are:</p>

<ul>
  
<li><tt>play-docviewer</tt> module contains a jar file,</li>
  
<li>module dependencies defined in <tt>conf/application.conf</tt> file are not supported anymore.</li>
</ul>
<div class="section">
<h3><a name="Details"></a>Details</h3>
<div class="section">
<h4><a name="pom.xml_file_changes"></a><b>pom.xml</b> file changes</h4>
<p>Required migration steps are slightly different for projects using <tt>play-app-default-parent</tt> and not using it.</p>
<div class="section">
<h5><a name="Projects_not_using_play-app-default-parent"></a>Projects not using <tt>play-app-default-parent</tt></h5>

<ul>
  
<li>If you define Play! version as a property, change it&#x2019;s value to <tt>1.3.4</tt></li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">    &lt;properties&gt;
        &lt;play.version&gt;1.3.4&lt;/play.version&gt;
    &lt;/properties&gt;
</pre></div></div>

<ul>
  
<li>If you have <tt>play-docviewer</tt> module-type dependency</li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">        &lt;dependency&gt;
            &lt;groupId&gt;com.google.code.maven-play-plugin.org.playframework.modules.docviewer&lt;/groupId&gt;
            &lt;artifactId&gt;play-docviewer&lt;/artifactId&gt;
            &lt;version&gt;${play.version}&lt;/version&gt;
            &lt;classifier&gt;module-min&lt;/classifier&gt; &lt;!-- or &lt;classifier&gt;module&lt;/classifier&gt; --&gt;
            &lt;type&gt;zip&lt;/type&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
</pre></div></div>
<p>add jar-type one (<tt>play-docviewer-${version}.jar</tt> is new in Play! 1.3.x)</p>

<div class="source">
<div class="source"><pre class="prettyprint">        &lt;dependency&gt;
            &lt;groupId&gt;com.google.code.maven-play-plugin.org.playframework.modules.docviewer&lt;/groupId&gt;
            &lt;artifactId&gt;play-docviewer&lt;/artifactId&gt;
            &lt;version&gt;${play.version}&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
</pre></div></div></div>
<div class="section">
<h5><a name="Projects_using_play-app-default-parent"></a>Projects using <tt>play-app-default-parent</tt></h5>

<ul>
  
<li>if you use and want to stay with latest release version change <tt>play.version</tt> property value</li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">    &lt;properties&gt;
        &lt;play.version&gt;1.3.4&lt;/play.version&gt;
    &lt;/properties&gt;
</pre></div></div>
<p>and add <tt>play-docviewer</tt> jar-type dependency (<tt>play-docviewer-${version}.jar</tt> is new in Play! 1.3.x)</p>

<div class="source">
<div class="source"><pre class="prettyprint">        &lt;dependency&gt;
            &lt;groupId&gt;com.google.code.maven-play-plugin.org.playframework.modules.docviewer&lt;/groupId&gt;
            &lt;artifactId&gt;play-docviewer&lt;/artifactId&gt;
            &lt;version&gt;${play.version}&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
</pre></div></div>

<ul>
  
<li>alternatively you can change the parent to <tt>play13-app-default-parent</tt></li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">    &lt;parent&gt;
        &lt;groupId&gt;com.google.code.maven-play-plugin&lt;/groupId&gt;
        &lt;artifactId&gt;play13-app-default-parent&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-beta8&lt;/version&gt;
    &lt;/parent&gt;
</pre></div></div></div></div>
<div class="section">
<h4><a name="module_dependencies_defined_in_confapplication.conf_file"></a>module dependencies defined in <b>conf/application.conf</b> file</h4>
<p>In Play! 1.1.x modules had to be installed inside <b>PLAY_HOME/modules</b> directory (<tt>play install</tt> command) and included in <tt>conf/application.conf</tt> file for example</p>

<div class="source">
<div class="source"><pre class="prettyprint"># Additional modules
# ~~~~~
# A module is another play! application. Add a line for each module you want
# to add to your application. Modules path are either absolutes or relative to
# the application root.
# They get loaded from top to bottom; Syntax: module.{name}={path}
#
# Keep the next line as is to help the play script to manage modules.
# ---- MODULES ----
module.crud=${play.path}/modules/crud
</pre></div></div>
<p>In <tt>pom.xml</tt> file such dependency has to be defined with <tt>provided</tt> scope and is extracted to <tt>target/play/modules/${modulename}</tt> directory.</p>
<p>This method was deprecated (but still working) in Play! 1.2.x. In Play! 1.3.x it was removed.</p>
<p>All dependent modules have to be added to <tt>conf/dependencies.yml</tt> file and declared with default scope in <tt>pom.xml</tt> file (remove <tt>&lt;scope&gt;provided&lt;/scope&gt;</tt>).</p>
<p>There is additional automatic, transparent to the users, dependency mechanism in Play! <tt>docviewer</tt> and <tt>testrunner</tt> modules are added to every project in runtime without the need to declare them in <tt>conf/application.conf</tt> or <tt>conf/dependencies.yml</tt> file. They are declared in <tt>pom.xml</tt> file (in <tt>play-app-default-parent</tt> if you are using it) with <tt>provided</tt> scope. This scope should not be changed.</p></div>
<div class="section">
<h4><a name="confdependencies.yml_file_content"></a><b>conf/dependencies.yml</b> file content</h4>
<p><tt>conf/dependencies.yml</tt> configuration file was introduced in Play! 1.2.x and was used exclusively by <tt>play dependencies</tt> (or <tt>play deps</tt>) command. It is ignored in Maven environment. In Play! 1.3.x things changed. Every Play! <b>module</b> dependency must be included in it. This configuration is processed in Play! initialization (application start) phase. Jar-type dependencies on the other hand, are used only by <tt>play dependencies</tt> command, and are not required when working in Maven environment. They can be added to <tt>conf/dependencies.yml</tt> configuration file, but will be ignored by Maven plugin.</p></div></div>
<div class="section">
<h3><a name="Limitations_and_problems_found"></a>Limitations and problems found</h3>

<ul>
  
<li><b>cobertura</b> module</li>
</ul>
<p>Cobertura module is not compatible with Play! 1.3.x because of <b>ASM</b> dependency versions conflict (<tt>3.0</tt> vs. <tt>5.0.3</tt>).</p>

<ul>
  
<li><b>siena</b> module</li>
</ul>
<p>I think, I found a bug in Play! 1.3.x when working with <tt>siena</tt> module (will investigate it later). By default Siena disables Play! JPA plugin. This is not implemented properly and application fails to start. The workaround is to leave it enabled (I don&#x2019;t know of any consequences of this change) by adding:</p>

<div class="source">
<div class="source"><pre class="prettyprint">siena.jpa.disable=false
</pre></div></div>
<p>line to <tt>conf/application.conf</tt> configuration file.</p>

<ul>
  
<li><b>scala</b> module</li>
</ul>
<p>Scala module does not work, but who uses Play! 1.x with Scala these days?</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2010&#x2013;2016.
          All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
